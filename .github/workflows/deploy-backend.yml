name: üî• Deploy Flask Backend to FTP

on:
  push:
    branches:
      - main

jobs:
  deploy-backend:
    runs-on: ubuntu-latest

    steps:
      - name: üì• Checkout code
        uses: actions/checkout@v3

      - name: üöÄ Deploy backend via FTP
        uses: SamKirkland/FTP-Deploy-Action@v4.3.4
        with:
          server: ${{ secrets.FTP_SERVER }}
          username: ${{ secrets.FTP_USERNAME }}
          password: ${{ secrets.FTP_PASSWORD }}
          server-dir: httpdocs/api/           # –ø–∞–ø–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
          local-dir: backend_deploy/          # –ª–æ–∫–∞–ª—å–Ω–∞—è –ø–∞–ø–∫–∞
          protocol: ftp
          dangerous-clean-slate: true         # —É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
